import{a as y,b as l,c as _,d as L,e as R,g as N,h as P,i as T,j as M,k as g}from"./chunk-BMQXZQ2D.js";import{A as h,Aa as F,Ba as E,D as s,H as v,Ha as b,M as u,O as C,Q as c,V as e,W as i,X as o,Z as S,_ as w,ca as m,ea as x,q as f,u as p,v as d,za as U}from"./chunk-5QSTX7GU.js";var V=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["auth-layout"]],decls:3,vars:0,consts:[[1,"flex","items-center","justify-center","min-h-screen"],[1,"w-full","max-w-xs","bg-slate-100","shadow-2xl","rounded-lg","p-4"]],template:function(t,r){t&1&&(e(0,"div",0)(1,"div",1),o(2,"router-outlet"),i()())},dependencies:[U],encapsulation:2})};function I(n,a){n&1&&o(0,"span",9)}function q(n,a){n&1&&(e(0,"div",12),p(),e(1,"svg",13),o(2,"path",14),i(),d(),e(3,"span"),m(4,"Por favor revise la informaci\xF3n ingresada."),i()())}var A=class n{fb=f(T);authService=f(b);router=f(F);isLoading=h(!1);hasError=h(!1);isPosting=h(!1);loginForm=this.fb.group({email:["",[l.required,l.email,l.pattern(g.emailPattern)]],password:["",[l.required]]});onSubmit(){if(this.loginForm.invalid)return this.hasErrorResponse();let{email:a="",password:t=""}=this.loginForm.value;this.isLoading.set(!0),this.authService.login(a,t).subscribe({next:r=>{if(r){this.router.navigateByUrl("/",{replaceUrl:!0}),this.loginForm.reset();return}return this.hasErrorResponse()},complete:()=>{this.isLoading.set(!1)}})}hasErrorResponse(){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["login-page"]],decls:18,vars:3,consts:[["autocomplete","off",1,"flex","flex-col","gap-2",3,"ngSubmit","formGroup"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","email","placeholder","Correo electr\xF3nico","formControlName","email",1,"grow"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","placeholder","Contrase\xF1a","formControlName","password",1,"grow"],["type","submit",1,"btn","btn-secondary"],[1,"loading","loading-spinner","loading-xs"],[1,"text-slate-700"],["routerLink","/auth/register",1,"text-secondary"],["role","alert",1,"alert","alert-error","animate-fadeIn","fixed","bottom-5","right-5","w-52"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,r){t&1&&(e(0,"form",0),S("ngSubmit",function(){return r.onSubmit()}),e(1,"label",1),p(),e(2,"svg",2),o(3,"path",3)(4,"path",4),i(),d(),o(5,"input",5),i(),e(6,"label",1),p(),e(7,"svg",2),o(8,"path",6),i(),d(),o(9,"input",7),i(),e(10,"button",8),u(11,I,1,0,"span",9),m(12," Login "),i(),e(13,"p",10),m(14," \xBFNo tienes cuenta? "),e(15,"a",11),m(16,"Crea una aqu\xED"),i()()(),u(17,q,5,0,"div",12)),t&2&&(C("formGroup",r.loginForm),s(11),c(r.isLoading()?11:-1),s(6),c(r.hasError()?17:-1))},dependencies:[E,M,R,y,_,L,N,P],encapsulation:2})};function Z(n,a){if(n&1&&(e(0,"p",7),m(1),i()),n&2){let t=w();s(),x(" ",t.formuUtils.getFieldError(t.registerForm,"fullName")," ")}}function O(n,a){if(n&1&&(e(0,"p",7),m(1),i()),n&2){let t=w();s(),x(" ",t.formuUtils.getFieldError(t.registerForm,"email")," ")}}function j(n,a){if(n&1&&(e(0,"p",7),m(1),i()),n&2){let t=w();s(),x(" ",t.formuUtils.getFieldError(t.registerForm,"password")," ")}}function z(n,a){if(n&1&&(e(0,"p",7),m(1),i()),n&2){let t=w();s(),x(" ",t.formuUtils.getFieldError(t.registerForm,"password2")," ")}}function J(n,a){n&1&&o(0,"span",16)}function K(n,a){n&1&&(e(0,"div",19),p(),e(1,"svg",20),o(2,"path",21),i(),d(),e(3,"span"),m(4,"Por favor revise la informaci\xF3n ingresada."),i()())}var G=class n{formuUtils=g;router=f(F);authService=f(b);fb=f(T);hasError=h(!1);isLoading=h(!1);registerForm=this.fb.group({fullName:["",[l.required,l.pattern(g.namePattern)]],email:["",[l.required,l.email,l.pattern(g.emailPattern)],[]],password:["",[l.required,l.pattern(g.notOnlySpacesPattern),l.min(6)]],password2:["",[l.required,l.pattern(g.notOnlySpacesPattern),l.min(6)]]},{validators:[g.isFieldOneEqualFieldTwo("password","password2")]});onRegister(){if(this.registerForm.invalid)return this.registerForm.markAllAsTouched(),this.hasErrorResponse();let{email:a="",password:t="",fullName:r=""}=this.registerForm.value;this.isLoading.set(!0),this.authService.register(a,t,r).subscribe({next:k=>{if(k){this.router.navigateByUrl("/",{replaceUrl:!0}),this.registerForm.reset();return}return this.hasErrorResponse()},complete:()=>{this.isLoading.set(!1)}})}hasErrorResponse(){this.hasError.set(!0),setTimeout(()=>{this.hasError.set(!1)},2e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["register-page"]],decls:32,vars:7,consts:[[1,"max-w-md","w-full","mx-auto","border","border-slate-300","rounded-2xl","p-8"],[1,"text-center"],["autocomplete","off",1,"flex","flex-col","gap-2",3,"ngSubmit","formGroup"],[1,"input","input-bordered","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zm0 2c-3.866 0-7 3.134-7 7h2c0-2.761 2.239-5 5-5s5 2.239 5 5h2c0-3.866-3.134-7-7-7z"],["type","text","placeholder","Nombre completo","formControlName","fullName",1,"grow"],[1,"text-error","text-sm"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16 16","fill","currentColor",1,"h-4","w-4","opacity-70"],["d","M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"],["d","M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"],["type","email","placeholder","Correo electr\xF3nico","formControlName","email",1,"grow"],["fill-rule","evenodd","d","M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z","clip-rule","evenodd"],["type","password","placeholder","Contrase\xF1a","formControlName","password",1,"grow"],["type","password","placeholder","Confirmar contrase\xF1a","formControlName","password2",1,"grow"],["type","submit",1,"btn","btn-secondary"],[1,"loading","loading-spinner","loading-xs"],[1,"text-slate-700"],["routerLink","/auth/login",1,"text-secondary"],["role","alert",1,"alert","alert-error","animate-fadeIn","fixed","bottom-5","right-5","w-52"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-6","w-6","shrink-0","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"]],template:function(t,r){t&1&&(e(0,"div",0),o(1,"div",1),e(2,"form",2),S("ngSubmit",function(){return r.onRegister()}),e(3,"label",3),p(),e(4,"svg",4),o(5,"path",5),i(),d(),o(6,"input",6),i(),u(7,Z,2,1,"p",7),e(8,"label",3),p(),e(9,"svg",8),o(10,"path",9)(11,"path",10),i(),d(),o(12,"input",11),i(),u(13,O,2,1,"p",7),e(14,"label",3),p(),e(15,"svg",8),o(16,"path",12),i(),d(),o(17,"input",13),i(),u(18,j,2,1,"p",7),e(19,"label",3),p(),e(20,"svg",8),o(21,"path",12),i(),d(),o(22,"input",14),i(),u(23,z,2,1,"p",7),e(24,"button",15),u(25,J,1,0,"span",16),m(26,"Registrarse "),i(),e(27,"p",17),m(28," \xBFTienes cuenta? "),e(29,"a",18),m(30,"Inicia Sessi\xF3n"),i()()(),u(31,K,5,0,"div",19),i()),t&2&&(s(2),C("formGroup",r.registerForm),s(5),c(r.formuUtils.isValidField(r.registerForm,"fullName")?7:-1),s(6),c(r.formuUtils.isValidField(r.registerForm,"email")?13:-1),s(5),c(r.formuUtils.isValidField(r.registerForm,"password")?18:-1),s(5),c(r.formuUtils.isFieldOneEqualFieldTwo("password","password2")?23:-1),s(2),c(r.isLoading()?25:-1),s(6),c(r.hasError()?31:-1))},dependencies:[E,M,R,y,_,L,N,P],encapsulation:2})};var Q=[{path:"",component:V,children:[{path:"login",loadComponent:()=>A},{path:"register",loadComponent:()=>G},{path:"**",redirectTo:"login"}]}],fe=Q;export{Q as authRoutes,fe as default};
